\chapter[Requisitos]{Requisitos}
	Para esse projeto foi decidido utilizar a Especificação por Exemplo (EPE). Especificação por exemplo, é uma 
	abordagem colaborativa para definir os requisitos e os testes funcionais de negócios para produtos de software 
	baseados na captura e requisitos usando exemplos realistas em vez de afirmações abstratas ilustrando \cite{bdd} 

	O projeto contém muitos detalhes e portanto, muitas possibilidades de divergências, logo, além de ajudar a relatar 
	o que contempla o sistema, esse tipo de especificação irá auxiliar na visualização do uso do mesmo. Os requisitos 
	abaixo estão divididos conforme os itens da EAP, que é dividida por área de conhecimento e seus submódulos.

	\section[Requisitos de Eletrônica]{Requisitos de Eletrônica}

		\begin{enumerate}
			\item Sistema de controle de refrigeração
				\begin{enumerate}
					\item Controlar a temperatura da serpentina
						\begin{itemize}
							\item \textbf{Dado} leitura do sensor de temperatura maior que 0$^{\circ}$ C
							\item \textbf{Quando} a temperatura estiver fora da faixa estabelecida
							\item \textbf{Então} Ligar ou desligar compressor de gás refrigerante
						\end{itemize}
				\end{enumerate}

				\item Sistema de tiragem de chopp
				\begin{enumerate}
					\item Estimar volume restante no barril
						\begin{itemize}
							\item \textbf{Dado} uma leitura do  peso atual do barril
							\item \textbf{Quando} houver a tiragem do chopp
							\item \textbf{Então} passar novo valor calculado ao sistema de controle
						\end{itemize}

				\item Estimar volume no  copo.
						\begin{itemize}
							\item \textbf{Dado} a escolha do volume do copo
							\item \textbf{Quando} verificado a compra e solicitado o chopp
							\item \textbf{Então} aguardar posicionamento do copo na base
							\item \textbf{E} Liberar o  volume escolhido de chopp
						\end{itemize}

				\item Identificar a presença do copo na base.
						\begin{itemize}
							\item \textbf{Dado} verificado a compra e solicitado o chopp.
							\item \textbf{Quando} o copo estiver na base.
							\item \textbf{Então} medir a distância entre o sensor e copo.
							\item \textbf{E} Liberar as válvulas que controlam o fluxo de chopp.
						\end{itemize}

				\item Controlar a inclinação do copo.
						\begin{itemize}
							\item \textbf{Dado} a compra efetuada e liberada.
							\item \textbf{Quando} o copo estiver na base.
							\item \textbf{Então} inclinar a base para servir o chopp.
						\end{itemize}

				\item Assegurar o tamanho do colarinho escolhido.
						\begin{itemize}
							\item \textbf{Dado} a escolha do colarinho na compra do chopp.
							\item \textbf{Quando} o copo o copo estiver posicionado e inclinado.
							\item \textbf{Então} Ativar o mecanismo de colarinho e servir a quantidade solicitada.
						\end{itemize}

				\item Permitir a escolha do tipo de chopp
						\begin{itemize}
							\item \textbf{Dado} a escolha do tipo de chopp.
							\item \textbf{Quando} a compra efetuada e liberada
							\item \textbf{Então} ativar somente as válvulas do chopp escolhido.
						\end{itemize}
				\end{enumerate}

			\item Sistema de alimentação emergencial
				\begin{enumerate}
					\item Construir sistema inversor DC para AC
						\begin{itemize}
							\item \textbf{Dado} que é necessário manter a máquina em funcionamento
							\item \textbf{Quando} não tiver energia da rede concessionária
							\item \textbf{Então} o sistema converte a tensão da bateria 12v para 220v
						\end{itemize}

					\item Construir sistema retificador AC para DC.
						\begin{itemize}
							\item \textbf{Dado} que a máquina precisa armazenar energia
							\item \textbf{Quando} o sistema de alimentação estiver funcionando
							\item \textbf{Então} o sistema converte a tensão da rede para alimentar a bateria
						\end{itemize}

					\item Efetuar a comutação de forma automática na falta de fase.
						\begin{itemize}
							\item \textbf{Dado} que a máquina comuta as fases
							\item \textbf{Quando} o sistema de alimentação entrar em falta
							\item \textbf{Então} o comutador inverte a chave para a posição oposta da alimentação 
							atual.
						\end{itemize}
				\end{enumerate}
		\end{enumerate}

	\section[Requisitos de Software]{Requisitos de Software}

		\begin{enumerate}

			\item Sistema \textit{mobile} de compra
				\begin{enumerate}
					\item 
						\begin{itemize}
							\item \textbf{Dado} que o usuário esteja logado 
							\item \textbf{Quando} tenha iniciado a compra de um chopp 
							\item \textbf{Então} deve ser possível ver as preferências de chopp(colarinho, quantidades discretas e pré-definidas) 
						\end{itemize}

				\item 
						\begin{itemize}
							\item \textbf{Dado} que o usuário tente entrar no sistema
							\item \textbf{E} ainda não tenha se cadastrado
							\item \textbf{Quando} tenha iniciado o aplicativo 
							\item \textbf{Então} terá disponível um formulário com email e senha para cadastro.
						\end{itemize}

				\item 
						\begin{itemize}
							\item \textbf{Dado} que o usuário já tenha se cadastrado
							\item \textbf{E} recebido um email com link de confirmação
							\item \textbf{Quando} clicar no link
							\item \textbf{Então} deverá ser levado a uma mensagem de confirmação
							\item \textbf{E} deve ser possível se autenticar no sistema.
						\end{itemize}

				\item 
						\begin{itemize}
							\item \textbf{Dado} que o usuário já esteja cadastrado no sistema
							\item \textbf{E} tenha clicado para comprar um chopp
							\item \textbf{E} tenha acesso a internet
							\item \textbf{Quando} finalizado a compra 
							\item \textbf{Então} deve ser possível inserir os dados do cartão de crédito
							\item \textbf{E} ser notificado se a compra foi bem sucedida ou não
							\item \textbf{E} em seus tickets devem estar disponíveis para uso na máquina
						\end{itemize}

				\item 
						\begin{itemize}
							\item \textbf{Dado} que o usuário já tenha comprado tickets
							\item \textbf{E} esteja autenticado no sistema
							\item \textbf{Quando} clicar em uma opção meus tickets
							\item \textbf{Então} deve ser possível  visualizar o QRCode que representa a unidade de chopp.
							\item \textbf{E} deverá ter disponível uma opção para usar o ticket
							\item \textbf{E} caso já tenha sido usado o ticket, deverá sumir da lista de tickets do usuário
						\end{itemize}

				\item 
						\begin{itemize}
							\item \textbf{Dada} a compra efetuada de um chopp
							\item \textbf{E} um usuário offline
							\item \textbf{Quando} o usuário clicar para usar o ticket
							\item \textbf{Então} a máquina de chopp deve responder no sistema de interação
							\item \textbf{E} o QRCode armazenado no celular, será descartado
						\end{itemize}

				\item 
						\begin{itemize}
							\item \textbf{Dado} que o usuário tenha comprado tickets
							\item \textbf{Quando} entrar na tela de visualização de tickets
							\item \textbf{Então} deve ser possível ver os tickets comprados segundo as preferências
							\item \textbf{E} poder escolher qual queira consumir
						\end{itemize}
			\end{enumerate}

			\item Sistema Administrativo
				\begin{enumerate}
					\item 
						\begin{itemize}
							\item \textbf{Dado} que o administrador esteja logado no sistema
							\item \textbf{Quando} o chopp estiver acabando
							\item \textbf{Então} uma notificação deve ser enviada
						\end{itemize}

					\item 
						\begin{itemize}
							\item \textbf{Dado} que o administrador esteja logado
							\item \textbf{E} conectado a internet 
							\item \textbf{Quando} a temperatura do barril de chopp estiver fora do padrão estabelecido
							\item \textbf{Então} o sistema deve enviar uma notificação informando o administrado
						\end{itemize}

					\item 
						\begin{itemize}
							\item \textbf{Dado} o administrador autenticado
							\item \textbf{E} conectado a internet
							\item \textbf{Quando} os módulos monitorados não estiverem funcionando(conexão da máquina a internet, sistema de interação)
							\item \textbf{Então} o administrador deve ser notificado
						\end{itemize}

					\item 
						\begin{itemize}
							\item \textbf{Dado} o administrador não registrado
							\item \textbf{Quando} acessar o sistema
							\item \textbf{Então} deve ser possível se cadastrar com email, senha
							\item \textbf{E} ser notificado de cadastro bem sucedido
						\end{itemize}

					\item 
						\begin{itemize}
							\item \textbf{Dado} o administrador registrado
							\item \textbf{Quando} autenticado no sistema via formulário de login
							\item \textbf{Então} deve ser possível ver uma tela administrativa com status da máquina, tickets comprados e quantidade de chopp.
						\end{itemize}
				\end{enumerate}

			\item Sistema de iteração do usuário na máquina
				\begin{enumerate}
					\item 
						\begin{itemize}
							\item \textbf{Dado} uma pessoa com tickets comprados
							\item \textbf{Quando} ele selecionar a opção de “Tomar um chopp” da tela inicial
							\item \textbf{Então} deve ser instruído a exibir o QRCode na câmera da máquina para efetuar o uso do ticket
							\item \textbf{E} a máquina deve informar se a leitura ocorreu de forma correta ou não.
							\item \textbf{E} caso incorreta, deve-se tentar a leitura novamente até que seja efetuada de forma correta
						\end{itemize}

					\item 
						\begin{itemize}
							\item \textbf{Dado} uma pessoa que inserir o ticket
							\item \textbf{E} a máquina reconhecer
							\item \textbf{Quando} a mensagem de sucesso aparecer
							\item \textbf{Então} em seguida, deve-se instruir o usuário a pegar o chopp
						\end{itemize}
				\end{enumerate}

		\end{enumerate}

	\section[Requisitos de Estrutura]{Requisitos de Estrutura}
		A parte de estrutura está muito ligada a requisitos não funcionais do sistema, portanto o modelo de EPE não se encaixou tão bem.

		\begin{itemize}
			\item \textbf{Dimensões:} Devem estar adequadas às necessidades de alocar elementos e componentes que compõem a chopeira permitindo seu 	correto funcionamento. Devem ser avaliadas questões como ergonomia do usuário, acessibilidade e facilidade de manutenção (todas essas relacionadas diretamente às dimensões), através de dimensões que permitam fácil acesso ao mantenedor.

			\item \textbf{Material:} O material deve estar em condições de suportar variações de temperatura impostas pelo funcionamento do sistema de refrigeração e também favorecer e facilitar os processos de fabricação. O design e aparência são itens diretamente influenciáveis pela escolha do material.
			
			\item \textbf{Comportamento Estrutural e Características:} A estrutura deve ser leve, o que facilita o transporte e manuseio, mantendo boa resistência, suportando vibrações, cargas e solicitações de fadiga

		\end{itemize}


	\section[Requisitos de Energia]{Requisitos de Energia}
		\begin{enumerate}
			\item Sistema de Refrigeração
				\begin{itemize}
					\item \textbf{Dado} o sistema de refrigeração em funcionamento  
					\item \textbf{Quando} o consumidor requisitar quaisquer tipos de chopp 
					\item \textbf{Então} Então as serpentinas devem resfriar o chopp a temperatura de (1 a 3$^{\circ}$ C)
				\end{itemize}
			\item \textit{Nobreak} 
				\begin{itemize}
					\item \textbf{Dado} o sistema ligado
					\item \textbf{Quando} o suprimento principal de energia elétrica falhar
					\item \textbf{Então} o sistema backup de energia será usado
				\end{itemize}
			\item Sistemas de Alimentação e Proteção 
				\begin{itemize}
					\item \textbf{Dado} o suprimento principal de energia elétrica ao sistema de refrigeração.
					\item \textbf{Quando} a máquina estiver em operação 
					\item \textbf{Então} o sistema será suprido numa tensão de 220V
					\item \textbf{Dado} o sistema sendo operado 
					\item \textbf{Quando} a máquina estiver em funcionamento 
					\item \textbf{Então} o sistema de prevenção de acidentes e choques deve proteger o usuário.
				\end{itemize}
		\end{enumerate}



